/*
	lets you modify the colors and use / add your own presets on Google's Minesweeper game.
	author: wuilly
*/

(()=>{window.minesweeper={},window.minesweeper.colors={GRASS_DARK:"#AAD751",GRASS_LIGHT:"#A2D149",DUG_DARK:"#D7B899",DUG_LIGHT:"#E5C29F",WATER_DARK:"#83C4F7",WATER_LIGHT:"#90CAF9",NAVBAR_BG_COLOR:"#4A752C",TRY_AGAIN_BG_COLOR:"#4A752C"},window.minesweeper.presets={},window.minesweeper.presets.presets={},window.minesweeper.presets.vaildPreset=e=>{if(void 0===e||!e||e.length<1)throw new Error("No preset JSON found.");try{let t=JSON.parse(e);if("object"==typeof t&&!Array.isArray(t))return!0}catch(e){if(e)throw new Error("Not a vaild preset.")}},window.minesweeper.presets.addPreset=(e,t)=>{if(void 0===e||!e||e.length<1)throw new Error("No name found.");if(void 0===t||!t||t.length<1)throw new Error("No preset JSON found.");if("string"!=typeof e)throw new Error("Name isn't a string.");if(window.minesweeper.presets.presets.hasOwnProperty(e))throw new Error("You already added this preset.");if("object"!=typeof t||Array.isArray(t)){if("string"!=typeof t)throw new Error("Not a vaild preset.");if(!window.minesweeper.presets.vaildPreset(t))throw new Error("Not a vaild preset.");Object.defineProperty(window.minesweeper.presets.presets,e,{value:JSON.parse(t)})}else Object.defineProperty(window.minesweeper.presets.presets,e,{value:t})},window.minesweeper.presets.applyPreset=e=>{if(void 0===e||!e||e.length<1)throw new Error("No name found.");if(!window.minesweeper.presets.presets.hasOwnProperty(e))throw new Error("That preset doesn't exist. Maybe try adding it first?");window.minesweeper.colors=window.minesweeper.presets.presets[e],window.minesweeper.setColors()},window.minesweeper.presets.usePreset=window.minesweeper.presets.applyPreset,window.minesweeper.restore=()=>{window.minesweeper.colors={GRASS_DARK:"#AAD751",GRASS_LIGHT:"#A2D149",DUG_DARK:"#D7B899",DUG_LIGHT:"#E5C29F",WATER_DARK:"#83C4F7",WATER_LIGHT:"#90CAF9",NAVBAR_BG_COLOR:"#4A752C",TRY_AGAIN_BG_COLOR:"#4A752C"},window.minesweeper.setColors()},window.minesweeper.setColors=()=>{s_zpd=function(e,t,r){switch(document.getElementById("NWJp1d").style.backgroundColor=window.minesweeper.colors.NAVBAR_BG_COLOR,document.getElementsByClassName("HhuoRb")[0].style.backgroundColor=window.minesweeper.colors.TRY_AGAIN_BG_COLOR,r){case"GRASS":e.context.fillStyle=0==(t.x+t.y)%2?window.minesweeper.colors.GRASS_DARK:window.minesweeper.colors.GRASS_LIGHT,s_Bpd(e,t);break;case"DUG":e.context.fillStyle=0==(t.x+t.y)%2?s_Cpd(e,window.minesweeper.colors.DUG_LIGHT,window.minesweeper.colors.WATER_LIGHT,t):s_Cpd(e,window.minesweeper.colors.DUG_DARK,window.minesweeper.colors.WATER_DARK,t),s_Bpd(e,t);break;case"ADJACENT":s_zpd(e,t,"DUG"),r=.62*e.cellSize,e.context.font="bold "+r+"pt Roboto",e.context.textAlign="center";var o=e.oa[t.x][t.y].sI;e.context.fillStyle=s_Cpd(e,s_Dpd[o-1],0==(t.x+t.y)%2?"#90CAF9":"#83C4F7",t),e.context.fillText(o.toString(),t.x*e.cellSize+e.cellSize/2,t.y*e.cellSize+r+(e.cellSize-r)/2.1);break;case"FLAG":s_zpd(e,t,"GRASS"),e.Ps.render(Math.min(Math.floor(e.oa[t.x][t.y].JGa),9),new s_jg(t.x*e.cellSize,t.y*e.cellSize),new s_jg(0,0),0,e.cellSize/e.Ps.Qd());break;case"BAD_FLAG":s_zpd(e,t,"GRASS"),e.context.drawImage(e.Ht,t.x*e.cellSize,t.y*e.cellSize,e.cellSize,e.cellSize);break;case"DETONATED_MINE":e.context.fillStyle=e.oa[t.x][t.y].color,s_Bpd(e,t),s_zpd(e,t,"MINE");break;case"MINE":e.context.fillStyle=s_CC(e.oa[t.x][t.y].color,.35),e.context.beginPath(),e.context.arc(t.x*e.cellSize+e.cellSize/2,t.y*e.cellSize+e.cellSize/2,e.cellSize/4,0,2*Math.PI,!1),e.context.fill()}e.Aa&&e.Aa.equals(t)&&(e.context.strokeStyle="#578A34",e.context.lineWidth=e.cellSize/10,e.context.beginPath(),e.context.rect(t.x*e.cellSize,t.y*e.cellSize,e.cellSize,e.cellSize),e.context.stroke(),e.context.setTransform(1,0,0,1,0,0),null!==e.Ha&&(e.context.fillStyle="#578A34",e.context.beginPath(),e.context.arc(e.Ha.x,e.Ha.y,e.wb,0,2*Math.PI,!1),e.context.fill(),t=2.4*e.wb,e.context.drawImage(e.Hw,e.Ha.x-t/2,e.Ha.y-t/2,t,t)),null!==e.Ma&&(e.context.fillStyle="#578A34",e.context.beginPath(),e.context.arc(e.Ma.x,e.Ma.y,e.wb,0,2*Math.PI,!1),e.context.fill(),t=2.25*e.wb,e.context.drawImage(e.ul,e.Ma.x-t/2.25,e.Ma.y-t/2,t,t)),null!==e.Ga&&(t=.75*e.wb,e.context.fillStyle="#578A34",e.context.beginPath(),e.context.arc(e.Ga.x,e.Ga.y,t,0,2*Math.PI,!1),e.context.fill(),t*=1.5,e.context.drawImage(e.Tr,e.Ga.x-t/2,e.Ga.y-t/2,t,t)),e.context.setTransform(1,0,0,1,e.Ba.width,e.Ba.height))}},window.minesweeper.presets.addPreset("dark",{GRASS_DARK:"#242730",GRASS_LIGHT:"#313742",DUG_DARK:"#D7B899",DUG_LIGHT:"#E5C29F",WATER_DARK:"#83C4F7",WATER_LIGHT:"#90CAF9",NAVBAR_BG_COLOR:"#343843",TRY_AGAIN_BG_COLOR:"#343843"}),window.minesweeper.presets.addPreset("dark2",{GRASS_DARK:"#555555",GRASS_LIGHT:"#333333",DUG_DARK:"#D7B899",DUG_LIGHT:"#E5C29F",WATER_DARK:"#83C4F7",WATER_LIGHT:"#90CAF9",NAVBAR_BG_COLOR:"#333333",TRY_AGAIN_BG_COLOR:"#333333"}),window.minesweeper.presets.addPreset("desert",{GRASS_DARK:"#D7BF51",GRASS_LIGHT:"#D1B849",DUG_DARK:"#D7B899",DUG_LIGHT:"#E5C29F",WATER_DARK:"#83C4F7",WATER_LIGHT:"#90CAF9",NAVBAR_BG_COLOR:"#D1B849",TRY_AGAIN_BG_COLOR:"#D1B849"})})();